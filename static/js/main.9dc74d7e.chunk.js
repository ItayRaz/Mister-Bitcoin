(this.webpackJsonpmister=this.webpackJsonpmister||[]).push([[0],{45:function(e,t,a){e.exports=a(76)},50:function(e,t,a){},51:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),s=(a(50),a(51),a(19)),i=a(1),l=a.n(i),u=a(4),m=a(5),p=a(8),f=a(6),h=a(9),d=a(40),v=a.n(d);function b(e){var t=e.move;return r.a.createElement("div",{className:"move-preview"},r.a.createElement("div",null,"To: ",t.to),r.a.createElement("div",null,v()(t.at).fromNow()),r.a.createElement("div",null,t.amount," ",r.a.createElement("i",{className:"fas fa-coins"})))}var E=a(3);function g(e){var t=e.moves;return r.a.createElement("section",{className:"move-list"},t.map((function(e){return r.a.createElement(E.b,{to:"/contact/".concat(e.toId)},r.a.createElement(b,{move:e,key:e.toId}))})))}var C={logIn:function(e){var t={name:e.name,coins:100,moves:[]};localStorage.setItem("user",JSON.stringify(t))},getLoggedUser:function(){return JSON.parse(localStorage.getItem("user"))},transferFund:function(e,t){var a=JSON.parse(localStorage.getItem("user"));return a.coins-=e,a.moves.unshift({toId:t._id,to:t.name,at:Date.now(),amount:e}),localStorage.setItem("user",JSON.stringify(a)),a}};var y=function(e){return{type:"SET_CURR_USER",user:e}},O=function(){return function(e){var t=C.getLoggedUser();return console.log("loggedUser",t),e(y(t))}},w=a(7),j=a(43),x=a.n(j).a.create({}),N={getRate:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(x.get("https://blockchain.info/tobtc?currency=USD&value=1&cors=true"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},getMarketPrice:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(x.get("https://api.blockchain.info/charts/market-price?timespan=1months&format=json&cors=true"));case 2:return e=t.sent,t.abrupt("return",e.data.values);case 4:case"end":return t.stop()}}))}};var _=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={user:"",bitCoinRate:0},a.signOut=function(){localStorage.clear(),a.props.history.push("/signUp")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.props.getLoggedUser().user||this.props.history.push("/signUp"),t.next=4,l.a.awrap(N.getRate());case 4:e=t.sent,this.setState({bitCoinRate:e});case 6:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props.user;console.log("user",e);var t=this.state.bitCoinRate;return e?r.a.createElement("section",null,r.a.createElement("div",{className:"user-details"},r.a.createElement("h2",null,"Hello ",e.name),r.a.createElement("h3",null,r.a.createElement("i",{class:"fas fa-coins"})," Coins: ",e.coins),r.a.createElement("h3",null,r.a.createElement("i",{className:"fab fa-bitcoin"})," BTC: ",t),r.a.createElement("button",{onClick:this.signOut},"Sign Out")),e.moves.length>0&&r.a.createElement("h2",{className:"moves-header"},"Your Moves:"),r.a.createElement(g,{moves:e.moves})):r.a.createElement("h2",null,"no User")}}]),t}(r.a.Component),S={getLoggedUser:O},k=Object(w.b)((function(e){return{user:e.user.currUser}}),S)(_),T=a(18),U=a(13),L=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},a.updateUser=function(e){var t=e.target,n=t.value,r=t.name;console.log(a.state),a.setState((function(e){return{user:Object(U.a)({},e.user,Object(T.a)({},r,n))}}))},a.saveUser=function(e){e.preventDefault(),a.props.logIn(a.state.user),a.props.history.push("/")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"sign-up-page flex column align-center container"},r.a.createElement("img",{src:"https://www.buybitcoinworldwide.com/img/goodicons/doublecoin.png",alt:""}),r.a.createElement("form",{className:"flex column align-center",onSubmit:this.saveUser},r.a.createElement("label",{className:"flex column align-center"},r.a.createElement("div",null,"Please Enter Your Name:"),r.a.createElement("input",{onChange:this.updateUser,name:"name",type:"text"})),r.a.createElement("button",null,"Sing Up")))}}]),t}(r.a.Component),z={logIn:function(e){return function(t){var a=C.logIn(e);return t(y(a))}}},A=Object(w.b)((function(e){return{user:e.user.currUser}}),z)(L);function I(e){var t=e.contact;return r.a.createElement("div",{className:"contact-prev"},r.a.createElement("img",{src:"https://robohash.org/".concat(t.name)})," ",r.a.createElement("span",null,t.name))}function R(e){var t=e.contacts;return r.a.createElement("section",null,r.a.createElement("ul",{className:"contact-list"},t.map((function(e){return r.a.createElement(E.b,{to:"/contact/".concat(e._id),key:e._id},r.a.createElement("li",null,r.a.createElement(I,{contact:e})))}))))}function P(e){var t=e.onFilter;return r.a.createElement("input",{type:"text",onChange:function(e){return t(e.target.value)}})}var D={getContacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(t,a){var n,r=M;e&&e.term&&(n=(n=e.term).toLocaleLowerCase(),r=M.filter((function(e){return e.name.toLocaleLowerCase().includes(n)||e.phone.toLocaleLowerCase().includes(n)||e.email.toLocaleLowerCase().includes(n)}))),t(r.sort((function(e,t){return e.name.toLocaleLowerCase()<t.name.toLocaleLowerCase()?-1:e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:0})))}))},getContactById:function(e){return new Promise((function(t,a){var n=M.find((function(t){return t._id===e}));n?t(n):a("Contact id ".concat(e," not found!"))}))},deleteContact:function(e){return new Promise((function(t,a){var n=M.findIndex((function(t){return t._id===e}));-1!==n&&M.splice(n,1),t(M)}))},saveContact:function(e){return e._id?function(e){return new Promise((function(t,a){var n=M.findIndex((function(t){return e._id===t._id}));-1!==n&&(M[n]=e),t(e)}))}(e):function(e){return new Promise((function(t,a){e._id=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}(),M.push(e),t(e)}))}(e)},getEmptyContact:function(){return{name:"",email:"",phone:""}}},M=[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824"},{_id:"5a5664025f6ae9aa24a99fde",name:"Hallie Mclean",email:"halliemclean@renovize.com",phone:"+1 (948) 464-2888"},{_id:"5a56640252d6acddd183d319",name:"Parsons Norris",email:"parsonsnorris@renovize.com",phone:"+1 (958) 502-3495"},{_id:"5a566402ed1cf349f0b47b4d",name:"Rachel Lowe",email:"rachellowe@renovize.com",phone:"+1 (911) 475-2312"},{_id:"5a566402abce24c6bfe4699d",name:"Dominique Soto",email:"dominiquesoto@renovize.com",phone:"+1 (807) 551-3258"},{_id:"5a566402a6499c1d4da9220a",name:"Shana Pope",email:"shanapope@renovize.com",phone:"+1 (970) 527-3082"},{_id:"5a566402f90ae30e97f990db",name:"Faulkner Flores",email:"faulknerflores@renovize.com",phone:"+1 (952) 501-2678"},{_id:"5a5664027bae84ef280ffbdf",name:"Holder Bean",email:"holderbean@renovize.com",phone:"+1 (989) 503-2663"},{_id:"5a566402e3b846c5f6aec652",name:"Rosanne Shelton",email:"rosanneshelton@renovize.com",phone:"+1 (968) 454-3851"},{_id:"5a56640272c7dcdf59c3d411",name:"Pamela Nolan",email:"pamelanolan@renovize.com",phone:"+1 (986) 545-2166"},{_id:"5a5664029a8dd82a6178b15f",name:"Roy Cantu",email:"roycantu@renovize.com",phone:"+1 (929) 571-2295"},{_id:"5a5664028c096d08eeb13a8a",name:"Ollie Christian",email:"olliechristian@renovize.com",phone:"+1 (977) 419-3550"},{_id:"5a5664026c53582bb9ebe9d1",name:"Nguyen Walls",email:"nguyenwalls@renovize.com",phone:"+1 (963) 471-3181"},{_id:"5a56640298ab77236845b82b",name:"Glenna Santana",email:"glennasantana@renovize.com",phone:"+1 (860) 467-2376"},{_id:"5a56640208fba3e8ecb97305",name:"Malone Clark",email:"maloneclark@renovize.com",phone:"+1 (818) 565-2557"},{_id:"5a566402abb3146207bc4ec5",name:"Floyd Rutledge",email:"floydrutledge@renovize.com",phone:"+1 (807) 597-3629"},{_id:"5a56640298500fead8cb1ee5",name:"Grace James",email:"gracejames@renovize.com",phone:"+1 (959) 525-2529"},{_id:"5a56640243427b8f8445231e",name:"Tanner Gates",email:"tannergates@renovize.com",phone:"+1 (978) 591-2291"},{_id:"5a5664025c3abdad6f5e098c",name:"Lilly Conner",email:"lillyconner@renovize.com",phone:"+1 (842) 587-3812"}];var F=function(e){return{type:"SET_CURR_CONTACT",contact:e}},J=function(e){return function(t){var a;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(D.getContactById(e));case 2:return a=n.sent,n.abrupt("return",t(F(a)));case 4:case"end":return n.stop()}}))}},B=function(e){return{type:"SET_CONTACTS",contacts:e}},W=function(e){return{type:"SAVE_CONTACT",contact:e}},H=function(e){return{type:"DELETE_CONTACT",id:e}},G=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={contacts:[],filter:""},a.handleFilter=function(e){var t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:(t={}).term=e,a.props.loadContacts(t);case 3:case"end":return n.stop()}}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getLoggedUser().user||this.props.history.push("/signUp"),this.props.loadContacts()}},{key:"render",value:function(){var e=this.props.contacts;return r.a.createElement("section",{className:"contact-page"},r.a.createElement("h1",null,"Contacts"),r.a.createElement(P,{onFilter:this.handleFilter}),r.a.createElement(R,{contacts:e}),r.a.createElement(E.b,{to:"/contact/edit"},r.a.createElement("button",null,r.a.createElement("i",{className:"fas fa-plus add-btn"}))))}}]),t}(r.a.Component),q={loadContacts:function(e){return function(t){var a;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(D.getContacts(e));case 2:return a=n.sent,n.abrupt("return",t(B(a)));case 4:case"end":return n.stop()}}))}},getLoggedUser:O},V=Object(w.b)((function(e){return{contacts:e.contact.contacts}}),q)(G),Y=a(29),K=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={marketPrice:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(N.getMarketPrice());case 2:e=t.sent,this.setState({marketPrice:e});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.marketPrice;return r.a.createElement("section",null,r.a.createElement("h1",null,"Stats"),r.a.createElement(Y.Sparklines,{data:e.map((function(e){return e.y})),width:100,height:20,margin:5},r.a.createElement(Y.SparklinesLine,{color:"blue"})))}}]),t}(r.a.Component),Q=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={transfer:null},a.updateTransfer=function(e){var t=e.target,n=t.value,r=t.name;console.log(a.state),a.setState((function(e){return{transfer:Object(U.a)({},e,Object(T.a)({},r,+n))}}))},a.transfer=function(e){var t,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),t=a.props.contact,n=a.state.transfer,r.next=5,l.a.awrap(a.props.transfer(n.transfer,t));case 5:a.props.history.push("/contact");case 6:case"end":return r.stop()}}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"transfer-section"},r.a.createElement("input",{onChange:this.updateTransfer,name:"transfer",type:"number"}),r.a.createElement("button",{onClick:this.transfer},"Transfer"))}}]),t}(n.Component),X={transfer:function(e,t){return function(a){var n=C.transferFund(e,t);return console.log(n),a(y(n))}}},Z=Object(w.b)((function(e){return{contact:e.contact.currContact}}),X)(Q),$=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={contact:{},moves:[]},a.movesWithContact=function(){var e=a.props.user.moves,t=a.props.contact;return e.filter((function(e){return e.toId===t._id}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.match.params.id,t.next=3,l.a.awrap(this.props.loadCurrContact(e));case 3:return t.next=5,l.a.awrap(O());case 5:console.log("props",this.props),this.setState({moves:this.movesWithContact()});case 7:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props.contact,t=this.state.moves;return e?r.a.createElement("section",null,r.a.createElement("div",{className:"flex justify-center"},r.a.createElement("div",{className:"flex space-between action-btns"},r.a.createElement(E.b,{to:"/contact"},r.a.createElement("button",null,r.a.createElement("i",{className:"fas fa-long-arrow-alt-left"}))),r.a.createElement(E.b,{to:"edit/".concat(e._id)},r.a.createElement("button",null,r.a.createElement("i",{className:"fas fa-user-edit"}))))),r.a.createElement("div",{className:"contact-details flex column container"},r.a.createElement("img",{src:"https://robohash.org/".concat(e.name),alt:""}),r.a.createElement("div",{className:"flex column space-between main-details"},r.a.createElement("h3",null,e.name),r.a.createElement("h4",null,e.email),r.a.createElement("h4",null,e.phone),r.a.createElement(Z,{contact:e,history:this.props.history})),t.length>0&&r.a.createElement(g,{moves:t}))):r.a.createElement("h1",null,"no contact")}}]),t}(n.Component),ee={loadCurrContact:J,getLoggedUser:O},te=Object(w.b)((function(e){return{contact:e.contact.currContact,user:e.user.currUser}}),ee)($),ae=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={contact:null},a.updateContact=function(e){var t=e.target,n=t.value,r=t.name;a.setState((function(e){return{contact:Object(U.a)({},e.contact,Object(T.a)({},r,n))}}))},a.removeContact=function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.state.contact._id,t.next=3,l.a.awrap(a.props.removeContact(e));case 3:a.props.history.push("/contact");case 4:case"end":return t.stop()}}))},a.saveContact=function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,l.a.awrap(a.props.saveContact(a.state.contact));case 3:a.props.history.push("/contact");case 4:case"end":return t.stop()}}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e,t;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t=this.props.match.params.id)){a.next=7;break}return a.next=4,l.a.awrap(this.props.loadCurrContact(t));case 4:return a.abrupt("return",this.setState({contact:this.props.contact}));case 7:e=D.getEmptyContact();case 8:this.setState({contact:e});case 9:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.contact;return e&&r.a.createElement("section",{className:"contact-edit"},r.a.createElement("div",{className:"container flex column"},r.a.createElement("img",{src:"https://robohash.org/".concat(e.name),alt:""}),r.a.createElement("form",{className:"edit-form flex column"},r.a.createElement("label",{className:"flex"},r.a.createElement("div",null,"Name:"),r.a.createElement("input",{onChange:this.updateContact,name:"name",type:"text",value:e.name})),r.a.createElement("label",{className:"flex"},r.a.createElement("div",null,"Email:"),r.a.createElement("input",{onChange:this.updateContact,name:"email",type:"email",value:e.email})),r.a.createElement("label",{className:"flex"},r.a.createElement("div",null,"Phone:"),r.a.createElement("input",{onChange:this.updateContact,name:"phone",type:"number",value:e.phone})))),r.a.createElement("div",{className:"edit-btns flex space-evenly"},r.a.createElement("button",{className:"save-btn",onClick:this.saveContact},"Save Contact"),r.a.createElement("button",{className:"delete-btn",onClick:this.removeContact},"Delete")))}}]),t}(n.Component),ne={loadCurrContact:J,saveContact:function(e){return function(t){var a;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(D.saveContact(e));case 2:return a=n.sent,n.abrupt("return",t(W(a)));case 4:case"end":return n.stop()}}))}},removeContact:function(e){return function(t){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(D.deleteContact(e));case 2:return a.abrupt("return",t(H(e)));case 3:case"end":return a.stop()}}))}}},re=Object(w.b)((function(e){return{contact:e.contact.currContact}}),ne)(ae);function ce(){return r.a.createElement("section",{className:"header"},r.a.createElement(E.b,{to:"/"},r.a.createElement("i",{className:"fa fa-home"})),r.a.createElement(E.b,{to:"/contact"},r.a.createElement("i",{className:"fa fa-users"})),r.a.createElement(E.b,{to:"/statistic"},r.a.createElement("i",{className:"fas fa-chart-line"})))}var oe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ce,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:k}),r.a.createElement(s.a,{exact:!0,path:"/signUp",component:A}),r.a.createElement(s.a,{exact:!0,path:"/contact",component:V}),r.a.createElement(s.a,{exact:!0,path:"/contact/edit/:id?",component:re}),r.a.createElement(s.a,{exact:!0,path:"/contact/:id",component:te}),r.a.createElement(s.a,{exact:!0,path:"/statistic",component:K})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=a(20),ie=a(44),le=a(22),ue={currContact:null,contacts:[]};var me={currUser:null};var pe=Object(se.c)({contact:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURR_CONTACT":return Object(U.a)({},e,{currContact:t.contact});case"SET_CONTACTS":return Object(U.a)({},e,{contacts:t.contacts});case"SAVE_CONTACT":var a=e.contacts.findIndex((function(e){return e._id===t.contact._id}));return Object(U.a)({},e,{contacts:[].concat(Object(le.a)(e.contacts.slice(0,a)),[t.contact],Object(le.a)(e.contacts.slice(a+1)))});case"DELETE_CONTACT":var n=e.contacts.findIndex((function(e){return e._id===t.id}));return Object(U.a)({},e,{contacts:[].concat(Object(le.a)(e.contacts.slice(0,n)),Object(le.a)(e.contacts.slice(n+1)))});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURR_USER":return Object(U.a)({},e,{currUser:t.user});default:return e}}}),fe=Object(se.d)(pe,Object(se.a)(ie.a)),he=a(11),de=Object(he.a)();o.a.render(r.a.createElement(w.a,{store:fe},r.a.createElement(E.a,{history:de},r.a.createElement(oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.9dc74d7e.chunk.js.map